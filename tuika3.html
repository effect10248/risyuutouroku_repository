<!DOCTYPE html>
<html>
    <head>
        <title>履修登録 科目追加入力</title>
        <meta charset="utf-8">
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <h1>編集画面</h1>
        <h2><td><input type="button" value="トップに戻る" onclick="location.href='top.html'"></td></h2>

        <table>
            <thead>
                <tr>
                    <th>月</th>
                    <th>火</th>
                    <th>水</th>
                    <th>木</th>
                    <th>金</th>
                    <th>土</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><button class="modal-btn" data-day="mon" data-time="1">追加</button></td>
                    <td><button class="modal-btn" data-day="tue" data-time="1">追加</button></td>
                    <td><button class="modal-btn" data-day="wed" data-time="1">追加</button></td>
                    <td><button class="modal-btn" data-day="thu" data-time="1">追加</button></td>
                    <td><button class="modal-btn" data-day="fri" data-time="1">追加</button></td>
                    <td><button class="modal-btn" data-day="sat" data-time="1">追加</button></td>
                </tr>
                <tr>
                    <td><button class="modal-btn" data-day="mon" data-time="2">追加</button></td>
                    <td><button class="modal-btn" data-day="tue" data-time="2">追加</button></td>
                    <td><button class="modal-btn" data-day="wed" data-time="2">追加</button></td>
                    <td><button class="modal-btn" data-day="thu" data-time="2">追加</button></td>
                    <td><button class="modal-btn" data-day="fri" data-time="2">追加</button></td>
                    <td><button class="modal-btn" data-day="sat" data-time="2">追加</button></td>
                </tr>
                <tr>
                    <td><button class="modal-btn" data-day="mon" data-time="3">追加</button></td>
                    <td><button class="modal-btn" data-day="tue" data-time="3">追加</button></td>
                    <td><button class="modal-btn" data-day="wed" data-time="3">追加</button></td>
                    <td><button class="modal-btn" data-day="thu" data-time="3">追加</button></td>
                    <td><button class="modal-btn" data-day="fri" data-time="3">追加</button></td>
                    <td><button class="modal-btn" data-day="sat" data-time="3">追加</button></td>
                    </tr>
                    <tr>
                    <td><button class="modal-btn" data-day="mon" data-time="4">追加</button></td>
                    <td><button class="modal-btn" data-day="tue" data-time="4">追加</button></td>
                    <td><button class="modal-btn" data-day="wed" data-time="4">追加</button></td>
                    <td><button class="modal-btn" data-day="thu" data-time="4">追加</button></td>
                    <td><button class="modal-btn" data-day="fri" data-time="4">追加</button></td>
                    <td><button class="modal-btn" data-day="sat" data-time="4">追加</button></td>
                    </tr>
                    <tr>
                    <td><button class="modal-btn" data-day="mon" data-time="5">追加</button></td>
                    <td><button class="modal-btn" data-day="tue" data-time="5">追加</button></td>
                    <td><button class="modal-btn" data-day="wed" data-time="5">追加</button></td>
                    <td><button class="modal-btn" data-day="thu" data-time="5">追加</button></td>
                    <td><button class="modal-btn" data-day="fri" data-time="5">追加</button></td>
                    <td><button class="modal-btn" data-day="sat" data-time="5">追加</button></td>
                    </tr>
                    </tbody>
                    </table>

                    <!-- The Modal -->
                    <div id="myModal" class="modal">
                        <!-- Modal content -->
                        <div class="modal-content">
                            <span class="close">&times;</span>
                            <ul>
                                <li><a href="kamoku2.php?subject=文学研究1"><button class="subject-btn">文学研究1</button></a></li>
                                <li><a href="kamoku2.php?subject=文章表現法1"><button class="subject-btn">文章表現法1</button></li>
                                <li><a href="kamoku2.php?subject=国語科教育法"><button class="subject-btn">国語科教育法</button></li>
                                <li><a href="kamoku2.php?subject=英米文学1"><button class="subject-btn">英米文学1</button></li>
                                <li><a href="kamoku2.php?subject=日本史論"><button class="subject-btn">日本史論</button></li>
                                <li><a href="kamoku2.php?subject=図書館サービス論"><button class="subject-btn">図書館サービス論</button></li>
                                <li><a href="kamoku2.php?subject=博物館概論"><button class="subject-btn">博物館概論</button></li>
                                <li><a href="kamoku2.php?subject=学科ゼミ1"><button class="subject-btn">学科ゼミ1</button></li>
                            </ul>
                        </div>
                    </div>
            <script>
                // モーダルウィンドウを取得する
                var modal = document.getElementById("myModal");
        
                // class="modal-btn"の要素を全て取得する
                var modalBtnList = document.querySelectorAll(".modal-btn");
        
                // class="close"がついた最初の要素を取得する
                var span = document.querySelector(".close");
        
                // class="subject-btn"がついた要素を全て取得する
                var subjectBtnList = document.querySelectorAll(".subject-btn");
        
                // クリックされたモーダルボタンを保持する
                var activeBtn;
        
                // モーダルを開くクリックイベントを全てのボタンに付与する
                modalBtnList.forEach(btn => {
                    btn.onclick = function (event) {
                        // クリックされたボタン情報を保存
                        activeBtn = event.target;
                        // モーダルを表示
                        modal.style.display = "block";
                        // モーダルの日時を設定する
                        document.getElementById("selected-day").textContent = event.target.getAttribute("data-day");
                        document.getElementById("selected-time").textContent = event.target.getAttribute("data-time");
                    }
                });
        
                // 科目ボタンにクリックイベントを付与する
                subjectBtnList.forEach(btn => {
                    btn.onclick = function (event) {
                        // モーダルのボタンのテキストを更新
                        activeBtn.textContent = event.target.textContent;
                        // モーダルを閉じる
                        modal.style.display = "none";
                    }
                });
        
                // 閉じるボタンを押した時の処理
                span.onclick = function () {
                    modal.style.display = "none";
                }
        
                // モーダル自体をクリックしたときに閉じる
                window.onclick = function (event) {
                    if (event.target == modal) {
                        modal.style.display = "none";
                    }
                }
            </script>
    </body>
</html>
